<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link type="text/css" rel="stylesheet" href="rickshaw.min.css">
<script src="d3.v3.js"></script>
<script src="rickshaw.min.js"></script>
<script type="text/javascript" src="lastwave.js"></script>
</head>
<body>
<div id="chart"></div>
<div id="legend"></div>
<script>

var palette = new Rickshaw.Color.Palette( { scheme: 'spectrum2001' } );

/*var include_artists = [
'Kendrick Lamar',
'J. Cole',
'Logic',
'Eminem',
'Modest Mouse'
];*/
var include_artists = [];
for(artist in userdata){
	include_artists.push(artist);
}

var series_data = [{},{},{},{},{}];

for(a=0;a<include_artists.length;a++){
	//Artist name
	selected_artist = include_artists[a];
	
	//Hold all the coordinate information in this temporary variable
	var tempdata = [];
	
	//Populate tempdata
	for(i=0;i<userdata[selected_artist].length;i++){
		if(userdata[selected_artist][i] != undefined){
			tempdata[i] = { x: userdata[selected_artist][i][0], y: userdata[selected_artist][i][1]}
		}
	}
	
	//Populate series_data (each part is an artist)
	series_data[a]= {color:palette.color(),name: selected_artist,data: tempdata};
}
var graph = new Rickshaw.Graph( {
    element: document.querySelector("#chart"), 
    width: 1500, 
    height: 600, 
	renderer: 'area',
	offset: 'wiggle',
	stroke: true,
	preserve: true,
    series: series_data/*[{
        color: palette.color(),
		name: 'Kanye',
        data: series_data[0]
    }, {
		color: palette.color(),
		name: 'Kendrick',
		data: series_data[1]
	},  {
		color: palette.color(),
		name: 'J Cole',
		data: series_data[2]
	},  {
		color: palette.color(),
		name: 'Logic',
		data: series_data[3]
	},  {
		color: palette.color(),
		name: 'Eminem',
		data: series_data[4]
	}
	]*/
});


graph.render();

var hoverDetail = new Rickshaw.Graph.HoverDetail( {
	graph: graph,
	xFormatter: function(x) {
		return "test";
	}
} );


</script>
</body>
</html>