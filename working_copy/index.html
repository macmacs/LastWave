<!DOCTYPE html>
<html>
<!--
This is a proof-of-concept demo for saving d3js graphics as PDF/PNG/SVG files.

Copyright (C) 2012 by A. Gordon (gordon at cshl dot edu)
All code written by me is released under BSD license: http://opensource.org/licenses/BSD-3-Clause
(also uses several other libraries that have their own licenses).

See here for more details:
	https://github.com/agordon/d3export_demo

See here for online demo:
	http://d3export.cancan.cshl.edu/

-->
<head>
<title>LastWave v5.0</title>
<link type="text/css" rel="stylesheet" href="rickshaw.min.css">
<link type="text/css" rel="stylesheet" href="css.css">
<link type="text/css" rel="stylesheet" href="jquery-ui-1.10.4.custom.min.css">
<script src="d3.v3.js"></script>
<script src="rickshaw.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<link href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/yeti/bootstrap.min.css" rel="stylesheet">
<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://canvg.googlecode.com/svn/trunk/rgbcolor.js"></script> 
<script type="text/javascript" src="http://canvg.googlecode.com/svn/trunk/canvg.js"></script> 
<script type="text/javascript" src="jquery-ui-1.10.4.custom.min.js"></script>
<script type="text/javascript" src="lastwave.js"></script>
<script type="text/javascript" src="image-picker.min.js"></script>
<link rel="stylesheet" href="image-picker.css">

<!-- couldn't find a CDN'd version of Google-Code-Prettify's CSS file, so include it inline.
     Original version is here: http://google-code-prettify.googlecode.com/svn/trunk/src/prettify.css -->
<style>
.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}pre.prettyprint{padding:2px;border:1px solid #888}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}
</style>
</head>

<body>

<div class="titlebar">
	<img class="center_block" src="logo.png">
	<div id="menu" class="center_block">
			<a href="index.html">Home</a>
			<a href="gallery.html">Gallery</a>
			<a href="donate.html">Donate!</a>
			<a href="about.html">About</a>
	</div>
</div>
	<div id="loading" class="center_block unshown">
		<div id="progresstext" class="text-primary">

		</div>
		<div id="progressbar" class="progress progress-striped active">
			<div id="xml_loading" class="progress-bar" style="width: 0%"></div>
			<div id="graph_loading" class="progress-bar progress-bar-success" style="width: 0%"></div>
		</div>

	</div>
	<div id="errors"></div>
	<div id="box_1" class="center_block jumbotron shown">
		<div id="main_options">
			Last.fm Username:<!--<input type="text" name="user" title="user" style="color:#888;" 
	    						value="Last.fm Username" onfocus="inputFocus(this)" onblur="inputBlur(this)" />-->
	    						<input name="user" id="user" value="Taurheim" type="text">
	    						<br><br>
			Data Range : <br>
			<input id="start_date" value="Click to choose" onfocus="inputFocus(this)" onblur="inputBlur(this)" type="text"> to 
			<input id="end_date" value="Click to choose" onfocus="inputFocus(this)" onblur="inputBlur(this)" type="text">
			<br><br>
			Choose a layout (or create your own):<br>
			<select id="scheme">
			<option value=""></option>
			<option value="lastwave" data-img-src='images/examples/lastwave.png'>LastWave</option>
			<option value="forest" data-img-src='images/examples/forest.png'>Forest</option>
			<option value="neon" data-img-src='images/examples/neon.png'>Neon</option>
			<option value="fire" data-img-src='images/examples/fire.png'>Fire</option>
			<option value="shades" data-img-src="images/examples/custom.png">Shades</option>
			<option value="carpet" data-img-src='images/examples/carpet.png'>Carpet</option>
			<option value="assault" data-img-src='images/examples/assault.png'>Assault</option>
			<option value="custom" data-img-src='images/examples/custom.png'>Custom</option>
			<!--
				<option value="bluegreen">BlueGreen</option>
				<option value="pinkorange">PinkOrange</option>
				<option value="spectrum14">Spectrum 14</option>
				<option value="spectrum2000">Spectrum 2000</option>
				<option value="spectrum2001">Spectrum 2001</option>
				<option value="lastwave">LastWave</option>
				<option value="classic9">Classic 9</option>
				<option value="httpStatus">httpStatus</option>
				<option value="colorwheel">Color Wheel</option>
				<option value="cool">Cool</option>
				<option value="munin">Munin</option>
				<option value="custom">Custom</option>
			-->
			</select>
		</div>
		<div id="graph_options" class="center_block unshown">
			<div id="data" class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">Data</h3>
				</div>
				<div class="panel-body">
					Number of plays to be included: 
						<input name="plays" id="plays" value="10" type="text"><br><br>
					Normalize artist order?:
						<input name="normalize" id="normalize" type="checkbox"><br/><br/>
					Graph type:
						<select id="graph_type">
							<option value="silhouette">Silhouette</option>
							<option value="wiggle">Wiggle</option>
							<option value="expand">Expand</option>
							<option value="zero">Zero</option>
						</select><br><br>
				</div>
			</div>
			<div id="display" class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">Display</h3>
				</div>
				<div class="panel-body">
					Dimensions: 
						<input name="width" id="width" value="2000" type="text"> 
						x 
						<input name="height" id="height" value="1000" type="text"><br><br>
					Artist Names?: 
						<input name="artist_names" id="artist_names" checked="" type="checkbox"><br><br>
					Show Months?: 
						<input name="show_months" id="show_months" checked="" type="checkbox"><br><br>
				</div>
			</div>
			<div id="aesthetics" class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">Aesthetics</h3>
				</div>
				<div class="panel-body">

					Font Name: 
						<input name="font_name" id="font_name" value="Arial" type="text"><br><br>
					Font Color: 
						<input name="font_color" id="font_color" value="#000000" type="text"><br><br>
					Background Color: 
						<input name="bgcolor" id="bgcolor" value="#ffffff" type="text"><br><br>
				</div>

			</div>
			
		</div>
		<input class="submit btn btn-primary" value="Create Wave!" onclick="submitWave()" type="submit">
	</div>

	<div id="box_2" class="center_block unshown">
		<button class="btn btn-primary" onclick="show_options()">Change Settings</button><br/><br/>
		<div id="edit_canvas">
			<button class="btn btn-primary" onclick="switchlayout()">Click here if the curves look odd</button>
			<br><br>
			<button class="btn btn-primary" id="save_as_svg" value="">
				Save as SVG</button>
			<button class="btn btn-primary" id="save_as_png" value="">
				Convert to PNG</button>
		</div>
	</div>


<!-- ########### The Drawing Section ####### -->
<div class='chart' id='lastwave'></div>

<!-- Hidden <FORM> to submit the SVG data to the server, which will convert it to SVG/PDF/PNG downloadable file.
     The form is populated and submitted by the JavaScript below. -->
<form id="svgform" method="post" action="http://savas.ca/cgi-bin/download.pl">
 <input type="hidden" id="output_format" name="output_format" value="">
 <input type="hidden" id="data" name="data" value="">
</form>
<canvas id="svg-canvas" style="display:none"></canvas>

</body>
</html>
